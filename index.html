<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>AI vs Human Number Guessing ‚Äî Retro Robot Edition</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    /* ---------- Root / Theme ---------- */
    :root{
      --bg:#f2f7ff; --fg:#0b1220; --card:#fff; --accent:#ff7b4a; --accent2:#4aa3ff;
    }
    .dark{ --bg:#0b0f14; --fg:#e6edf3; --card:#0f1720; }
    *{box-sizing:border-box}
    body{font-family: 'Segoe UI', Roboto, 'Helvetica Neue', Arial; background:var(--bg); color:var(--fg); margin:0; padding:24px; transition:background .3s,color .3s}
    .container{max-width:980px;margin:0 auto}
    h1{font-size:2.0rem;text-align:center;margin:6px 0 18px}

    /* ---------- Layout ---------- */
    .topbar{display:flex;justify-content:space-between;align-items:center;margin-bottom:18px}
    .tabs{display:flex;gap:8px}
    .tab{background:var(--card);padding:8px 12px;border-radius:10px;cursor:pointer;box-shadow:0 2px 8px rgba(0,0,0,.08)}
    .tab.active{outline:3px solid rgba(74,163,255,.18)}
    .controls{display:flex;gap:8px;align-items:center}
    .btn{background:var(--accent2);color:white;border:none;padding:8px 12px;border-radius:10px;cursor:pointer}
    .btn.secondary{background:#fff;border:2px solid var(--accent2);color:var(--accent2)}

    /* ---------- Card ---------- */
    .card{background:var(--card);padding:18px;border-radius:14px;box-shadow:0 6px 18px rgba(0,0,0,.08);margin-bottom:18px}

    /* ---------- Game Area ---------- */
    .game-grid{display:grid;grid-template-columns:1fr 360px;gap:18px}
    #thinking{font-style:italic;color:gray;min-height:22px}
    input[type=number]{width:120px;padding:8px;border-radius:8px;border:1px solid #ddd}
    .guess-btn{padding:10px 14px;border-radius:10px;border:none;background:var(--accent);color:white;cursor:pointer}
    #history{margin-top:12px;font-size:1rem}

    /* ---------- Retro ASCII robot (SVG wrapper) ---------- */
    .robot-wrap{display:flex;justify-content:center;align-items:center}
    .robot{width:180px;height:180px}
    .robot .antenna{transform-origin:50% 0;animation:antenna 1.2s linear infinite}
    .robot .eye{animation:blink 3s infinite}
    @keyframes antenna{0%{transform:translateY(0)}50%{transform:translateY(-2px)}100%{transform:translateY(0)}}
    @keyframes blink{0%,95%,100%{opacity:1}97%{opacity:0}}

    /* ---------- Scoreboard ---------- */
    .stats{display:flex;gap:12px;flex-wrap:wrap;margin-top:12px}
    .stat{flex:1;background:linear-gradient(180deg,rgba(255,255,255,.03),transparent);padding:12px;border-radius:10px;text-align:center}
    .small{font-size:.9rem;color:gray}

    /* ---------- Footer ---------- */
    footer{text-align:center;color:gray;margin-top:24px;font-size:.9rem}

    /* ---------- Mobile tweaks ---------- */
    @media (max-width:880px){
      .game-grid{grid-template-columns:1fr;}
      .robot{width:140px;height:140px}
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>ü§ñ AI vs Human Number Guessing ‚Äî Retro Robot</h1>

    <div class="topbar">
      <div class="tabs">
        <div id="tab-home" class="tab active" onclick="showTab('home')">Home</div>
        <div id="tab-score" class="tab" onclick="showTab('score')">Scoreboard</div>
      </div>

      <div class="controls">
        <button id="randomBtn" class="btn secondary" onclick="randomizeNumber()">Random Demo</button>
        <button id="darkToggle" class="btn" onclick="toggleDark()">üåô</button>
      </div>
    </div>

    <!-- HOME TAB -->
    <div id="home" class="tabcontent">
      <div class="card game-grid">
        <div>
          <h2>AI Guessing Game</h2>
          <p id="thinking">Think of a number (or enter one for demo) and let the retro robot guess it!</p>
          <div style="display:flex;gap:8px;align-items:center">
            <input id="numberInput" type="number" min="1" max="100" placeholder="1 - 100" />
            <button class="guess-btn" onclick="startAI()">Start</button>
            <button class="btn secondary" onclick="resetGame()">Try Again</button>
          </div>

          <div id="history" style="margin-top:12px"></div>
        </div>

        <div>
          <div class="card robot-wrap">
            <!-- ASCII-style robot drawn as SVG for crisp animation -->
            <svg class="robot" viewBox="0 0 180 180" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Retro robot mascot">
              <!-- feet -->
              <rect x="42" y="150" width="20" height="8" rx="2" fill="#2b3f66" />
              <rect x="118" y="150" width="20" height="8" rx="2" fill="#2b3f66" />

              <!-- body -->
              <rect x="30" y="42" width="120" height="92" rx="12" ry="12" fill="#c7d8ff" stroke="#2b3f66" stroke-width="2"/>

              <!-- screen (darker panel for face) -->
              <rect x="44" y="64" width="92" height="46" rx="6" ry="6" fill="#081221" />

              <!-- eyes (circles centered nicely inside screen) -->
              <g class="eye" fill="#7fe0ff">
                <circle cx="72" cy="86" r="6"/>
                <circle cx="108" cy="86" r="6"/>
                <!-- small inner dots for pupils for extra character -->
                <circle cx="72" cy="86" r="2" fill="#012630"/>
                <circle cx="108" cy="86" r="2" fill="#012630"/>
              </g>

              <!-- mouth (rounded rectangle) -->
              <rect x="72" y="102" width="36" height="8" rx="3" fill="#9ee7ff" stroke="#063042" stroke-width="0.6"/>

              <!-- decorative screen border lines (gives ASCII feel) -->
              <g fill="none" stroke="#7fe0ff" stroke-opacity="0.08">
                <line x1="50" y1="72" x2="130" y2="72" />
                <line x1="50" y1="100" x2="130" y2="100" />
              </g>

              <!-- antenna (positioned above the center of the head) -->
              <g class="antenna" transform="translate(90,32)">
                <rect x="-2" y="0" width="4" height="20" fill="#2b3f66" />
                <circle cx="0" cy="-6" r="5" fill="#ffde59" stroke="#2b3f66" stroke-width="1"/>
              </g>
            </svg>
          </div>
        </div
      </div>

      <div class="card">
        <h3>How it works</h3>
        <p>AI uses a smart trick called <strong>binary search</strong>. It keeps cutting the list of possible numbers in half until it finds the right one. That makes it quick and efficient ‚Äî usually in just a few guesses!</p>
      </div>
    </div>

    <!-- SCOREBOARD TAB -->
    <div id="score" class="tabcontent" style="display:none">
      <div class="card">
        <h2>Scoreboard & Charts</h2>
        <div class="stats">
          <div class="stat">
            <div class="small">Human average</div>
            <div id="humanAvg">‚Äî</div>
          </div>
          <div class="stat">
            <div class="small">AI average</div>
            <div id="aiAvg">‚Äî</div>
          </div>
          <div class="stat">
            <div class="small">Improvement</div>
            <div id="improve">‚Äî</div>
          </div>
        </div>

        <canvas id="scoreChart" style="margin-top:12px"></canvas>
        <div style="margin-top:12px" class="small">Attempt order (1‚Äì10) on X axis. Lower = better.</div>
      </div>
    </div>

    <footer>
      Made by Benjamin Larsen | Kirkland Ranch Science Showcase | 6th Grade | 2026
    </footer>
  </div>

  <!-- Sounds (hosted free samples) -->
  <audio id="tick" src="https://actions.google.com/sounds/v1/cartoon/pop.ogg" preload="auto"></audio>
  <audio id="ding" src="https://actions.google.com/sounds/v1/cartoon/clang_and_wobble.ogg" preload="auto"></audio>

  <script>
    // ---------- Data set (your collected results) ----------
    const humanData = [9,7,7,7,6,8,5,10,7,6];
    const aiData     = [7,3,7,5,7,4,6,7,5,3];

    // ---------- Tabs ----------
    function showTab(name){
      document.querySelectorAll('.tabcontent').forEach(el=>el.style.display='none');
      document.getElementById(name).style.display='block';
      document.querySelectorAll('.tab').forEach(t=>t.classList.remove('active'));
      document.getElementById('tab-'+name).classList.add('active');

      if(name==='score') renderScoreboard();
    }

    // ---------- Dark toggle ----------
    function toggleDark(){ document.body.classList.toggle('dark'); }

    // ---------- Sounds ----------
    function playSound(name){ document.getElementById(name).currentTime=0; document.getElementById(name).play(); }

    // ---------- AI logic (synchronous loop with delay for demo) ----------
    let low, high, target, attempts, running;

    function startAI(){
      if(running) return; // avoid re-entrance
      const val = parseInt(document.getElementById('numberInput').value,10);
      if(isNaN(val) || val<1 || val>100) return alert('Enter a number between 1 and 100 (or press Random Demo).');
      target = val; low = 1; high = 100; attempts=0; running=true;
      document.getElementById('history').innerHTML = '';
      playSound('tick');
      loopGuess();
    }

    function loopGuess(){
      if(!running) return;
      // bias: on very first attempt, pick 67 if full range (for kid-fun)
      let guess = Math.floor((low+high)/2);
      attempts++;

      // thinking effect
      const thinking = document.getElementById('thinking');
      thinking.textContent='AI thinking‚Ä¶ ('+attempts+')';

      // small delay to animate
      setTimeout(()=>{
        if(guess===target){
          playSound('ding');
          document.getElementById('history').innerHTML += `<div>üéâ AI guessed <strong>${guess}</strong> in ${attempts} tries!</div>`;
          // stop
          running=false; return;
        }

        if(guess<target){
          low = guess+1; document.getElementById('history').innerHTML += `<div>${guess} ‚Üí Too low</div>`;
        } else {
          high = guess-1; document.getElementById('history').innerHTML += `<div>${guess} ‚Üí Too high</div>`;
        }

        // continue or detect inconsistency
        if(low>high){
          document.getElementById('history').innerHTML += `<div style="color:#c00">‚ö†Ô∏è Inconsistent answers ‚Äî stopped.</div>`; running=false; return;
        }
        loopGuess();
      },650);
    }

    function resetGame(){ running=false; low=1; high=100; target=null; attempts=0; document.getElementById('history').innerHTML=''; document.getElementById('thinking').textContent=''; document.getElementById('numberInput').value=''; }

    function randomizeNumber(){ const n = Math.floor(Math.random()*100)+1; document.getElementById('numberInput').value=n; }

    // ---------- Scoreboard & Chart ----------
    function renderScoreboard(){
      const humanAvg = (humanData.reduce((a,b)=>a+b,0)/humanData.length).toFixed(2);
      const aiAvg = (aiData.reduce((a,b)=>a+b,0)/aiData.length).toFixed(2);
      const improvement = (((humanAvg - aiAvg)/humanAvg)*100).toFixed(1) + '%';
      document.getElementById('humanAvg').textContent = humanAvg;
      document.getElementById('aiAvg').textContent = aiAvg;
      document.getElementById('improve').textContent = improvement;

      const ctx = document.getElementById('scoreChart').getContext('2d');
      if(window._scoreChart) window._scoreChart.destroy();
      window._scoreChart = new Chart(ctx,{
        type:'bar',
        data:{
          labels: humanData.map((_,i)=> 'Round '+(i+1)),
          datasets:[
            {label:'Humans', data:humanData, backgroundColor:'rgba(255,99,132,0.7)'},
            {label:'AI', data:aiData, backgroundColor:'rgba(54,162,235,0.7)'}
          ]
        },
        options:{responsive:true,scales:{y:{beginAtZero:true}}}
      });
    }

    // Render initial scoreboard chart quietly
    renderScoreboard();
  </script>
</body>
</html>

